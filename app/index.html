<!doctype html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" ng-app="spirograph">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Spirograph</title>

</head>
<body class="spirograph">

    <div ng-view></div>

    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-cookies/angular-cookies.js"></script>
    <script src="bower_components/angular-resource/angular-resource.js"></script>
    <script src="bower_components/angular-route/angular-route.js"></script>
    <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
    <script src="bower_components/angular-bootstrap/ui-bootstrap.js"></script>
    <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
    <script src="bower_components/d3/d3.js"></script>

    <script src="scripts/app.js"></script>
    <script src="scripts/modules.js"></script>
    <script src="scripts/services/services.js"></script>
    <script src="scripts/filters/filters.js"></script>
    <script src="scripts/directives/directives.js"></script>

    <!--Controllers-->
    <script src="scripts/controllers/MainController.js"></script>
    <!--/Controllers-->

    <script>

        //The data for our line
        //var lineData = [{ "x": 1, "y": 5 }, { "x": 20, "y": 20 },
        //                 { "x": 40, "y": 10 }, { "x": 60, "y": 40 },
        //                 { "x": 80, "y": 5 }, { "x": 100, "y": 60 }];

        var toRadians = function (degrees) {
            return (degrees * Math.PI) / 180;
        }

        var centerX = window.innerWidth / 2;
        var centerY = window.innerHeight / 2;
        var lineData = [];
        var radius = 100;


        var largeRadius = 300;
        var largeAngle = 0;
        for (var i = 90; i < 360 * 10; i++) {
            var x = radius * Math.cos(toRadians(i)) + centerX;
            var y = radius * Math.sin(toRadians(i)) + centerY;
            var largeXAdjustment = radius * Math.cos(toRadians(largeAngle));
            var largeYAdjustment = radius * Math.sin(toRadians(largeAngle));

            lineData.push({ 'x': x + largeXAdjustment, 'y': y + largeYAdjustment });
            largeAngle = (largeAngle + .3) % 360;
        }

        //This is the accessor function we talked about above
        var lineFunction = d3.svg.line()
                                 .x(function (d) { return d.x; })
                                 .y(function (d) { return d.y; })
                                 .interpolate("cardinal");

        //The SVG Container
        var svgContainer = d3.select("body").append("svg")
                                            .attr("width", window.innerWidth)
                                            .attr("height", window.innerHeight);

        //The line SVG Path we draw
        var lineGraph = svgContainer.append("path")
                                    .attr("d", lineFunction(lineData))
                                    .attr("stroke", "blue")
                                    .attr("stroke-width", 2)
                                    .attr("fill", "none");

    </script>

</body>
</html>
